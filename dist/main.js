(()=>{"use strict";const e=document.querySelectorAll("input[type=radio"),t=document.querySelector(".searchBoxInput"),c=document.querySelector(".changeUnits"),a=document.querySelector(".searchIcon"),n="c40fcb991f5231199fa7282aa3268d17";let o="metric";function r(e,t){document.querySelector(".weatherBasic_description").textContent=e.weather,document.querySelector(".weatherBasic_location").textContent=e.location,document.querySelector(".weatherBasic_timeWeekday").textContent=e.timeWeekday,document.querySelector(".weatherBasic_date").textContent=e.date,document.querySelector(".weatherBasic_coordLat").textContent="Lat: "+e.lat,document.querySelector(".weatherBasic_coordLon").textContent="Lon: "+e.lon,document.querySelector(".weatherBasic_temp").textContent=e[t].temp.current,document.querySelector(".weatherBasic_icon").src="imgs/"+e.icon+".svg",document.querySelector(".weatherBasic_icon").alt=e.description}function i(){var e,t;r(),document.querySelector(".weatherExtra_feels").textContent=e[t].temp.feels,document.querySelector(".weatherExtra_wind").textContent=e[t].wind.speed,document.querySelector(".weatherExtra_humidity").textContent=e.humidity,document.querySelector(".weatherExtra_pressure").textContent=e.pressure,displayMinutelyForecast()}function l(){let t=null;for(let c=0;c<e.length;c++)e[c].checked&&(t=e[c].id);return t}async function s(e){try{const t=function(e){let t=null,c=null;switch(l()){case"cityName":return"q="+e;case"cityZip":return c=e.split(/[ \.,]+/),t="zip="+c[0]+","+c[1],t;case"cityLatLon":return c=e.split(/[ \,]+/),t="lat="+c[0]+"&lon="+c[1],t;case"cityID":return"id="+e}}(e),c=await async function(e){try{const t=await fetch("https://api.openweathermap.org/data/2.5/weather?"+e+"&appid="+n,{mode:"cors"}),c=await t.json();return{lat:c.coord.lat,lon:c.coord.lon,city:c.name,country:c.sys.country}}catch(e){console.log(e)}}(t),a=await async function(e){try{const t=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+e.lat+"&lon="+e.lon+"&exclude=minutely&appid="+n,{mode:"cors"});return await t.json()}catch(e){console.log(e)}}(c);i(),async function(e){try{const t=await fetch("https://api.giphy.com/v1/gifs/translate?api_key=tdmQtHTXgoVAneoHsjqOQsCHo6Snca9k&s="+e,{mode:"cors"}),c=(await t.json()).data.images.original_still.url;document.querySelector("body").style.backgroundImage="url("+c+")"}catch(e){console.log(e)}}(a.weather[0].description),r(a,o)}catch(e){console.log(e)}}a.addEventListener("click",(()=>{s(t.value),t.value=""})),t.addEventListener("keypress",(e=>{"Enter"===e.key&&(s(t.value),t.value="")})),c.addEventListener("click",(e=>{"metric"===o?(e.target.textContent="Show in Metric",o="imperial"):"imperial"===o&&(e.target.textContent="Show in Imperial",o="metric"),i()})),e.forEach((e=>{e.addEventListener("click",(()=>{switch(l()){case"cityName":t.placeholder="e.g. Amsterdam, NL";break;case"cityZip":t.placeholder="e.g. 94040, US";break;case"cityLatLon":t.placeholder="e.g. 35.56 139.2";break;case"cityID":t.placeholder="e.g. 2172797"}}))})),s("Amsterdam, NL")})();